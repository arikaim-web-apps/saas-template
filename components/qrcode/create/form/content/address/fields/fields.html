{% set address = (content_item is not empty) ? content_item : address %}
{% if show_names == true %}
    <div class="{{ theme.form.fields }}">
        <div class="field">
            <label class="{{ theme.form.label }}">{{ fields.first_name.label }}</label>
            <input 
                class="{{ theme.form.input.class }} {{ theme.form.input.hover }} {{ theme.form.input.focus }}"
                {{ rules.first_name|attr('rule') }} 
                name="first_name" 
                id="first_name" 
                {{ fields.first_name.placeholder|attr('placeholder') }} 
                value="{{ address.first_name }}">
        </div> 
        <div class="field">
            <label class="{{ theme.form.label }}">{{ fields.last_name.label }}</label>
            <input 
                class="{{ theme.form.input.class }} {{ theme.form.input.hover }} {{ theme.form.input.focus }}"
                {{ rules.last_name|attr('rule') }} 
                name="last_name" 
                id="last_name" 
                {{ fields.last_name.placeholder|attr('placeholder') }} 
                value="{{ address.last_name }}">
        </div>
    </div>
{% endif %}
<div class="field {{ theme.form.field }}">
    <label class="{{ theme.form.label }}">{{ fields.country.label }}</label>
    {{  component('tailwind~address.country',{ 
            selected: address.country_id, 
            data_field: 'id',                    
            name: 'country_id',
            class: 'fluid clearable mini' 
        }) 
    }} 
</div> 
<div class="field {{ theme.form.field }}" id="state_field">
    <label class="{{ theme.form.label }}">{{ fields.state.label }}</label>
    {{  component('tailwind~address.state',{ 
            selected: address.state_id, 
            data_field: 'id',
            name: 'state_id',
            class: 'fluid clearable mini' 
        }) 
    }} 
</div>
<div class="{{ theme.form.fields }}">
    <div class="field">
        <label class="{{ theme.form.label }}">{{ fields.city.label }}</label>
        {% if show_custom_city == false %}
        <span class="{{ (address.custom_city is empty) ? '' : 'hidden' }}" id="city_input">
            <div class="flex flex-row items-start">
                {{  component('address::address.city',{ 
                        selected: address.city_id, 
                        data_field: 'id',
                        name: 'city_id',
                        class: 'fluid clearable mini' 
                    }) 
                }} 
                <a class="ui basic icon button add-custom-city" title="{{ buttons.city }}">
                    <i class="icon green plus"></i>
                </a>
            </div>  
        </span>
        {% endif %}
        <span class="{{ (address.custom_city is empty and show_custom_city == false) ? 'hidden' : '' }}" id="custom_city_input">
            <input 
                class="{{ theme.form.input.class }} {{ theme.form.input.hover }} {{ theme.form.input.focus }}"
                type="text" 
                name="custom_city" 
                id="custom_city" 
                {{ fields.custom_city.placeholder|attr('placeholder') }} 
                value="{{ address.custom_city }}">                            
        </span>          
    </div> 
    <div class="field">
        <label class="{{ theme.form.label }}">{{ fields.zip.label }}</label>
        <input 
            class="{{ theme.form.input.class }} {{ theme.form.input.hover }} {{ theme.form.input.focus }}"
            name="zip_code" 
            id="zip_code" 
            {{ fields.zip.placeholder|attr('placeholder') }} 
            value="{{ address.zip_code }}">
    </div>
</div>
<div class="field required {{ theme.form.field }}">
    <label class="{{ theme.form.label }}">{{ fields.address.label }}</label>
    <input 
        class="{{ theme.form.input.class }} {{ theme.form.input.hover }} {{ theme.form.input.focus }}"
        rule="empty" 
        name="address" 
        id="address" 
        {{ fields.address.placeholder|attr('placeholder') }} 
        value="{{ address.address }}">
</div>  
<div class="field {{ theme.form.field }}">
    <label class="{{ theme.form.label }}">{{ fields.address2.label }}</label>
    <input 
        class="{{ theme.form.input.class }} {{ theme.form.input.hover }} {{ theme.form.input.focus }}"
        type="text" 
        name="address_2" 
        id="address_2" 
        {{ fields.address2.placeholder|attr('placeholder') }} 
        value="{{ address.address_2 }}">  
</div>        
<div class="{{ theme.form.fields }}">
    <div class="field">
        <label class="{{ theme.form.label }}">{{ fields.email.label }}</label>
        <input 
            class="{{ theme.form.input.class }} {{ theme.form.input.hover }} {{ theme.form.input.focus }}"
            rule="email" 
            optional="true" 
            name="email" 
            id="email" 
            {{ fields.email.placeholder|attr('placeholder') }} 
            value="{{ address.email }}">
    </div>
    <div class="field">
        <label class="{{ theme.form.label }}">{{ fields.phone.label }}</label>
        <input 
            class="{{ theme.form.input.class }} {{ theme.form.input.hover }} {{ theme.form.input.focus }}"
            rule="integer" 
            name="phone" id="phone" 
            optional="true" 
            {{ fields.phone.placeholder|attr('placeholder') }} 
            value="{{ address.phone }}">
    </div>
</div>       
{% if show_website == true %}
    <div class="field {{ theme.form.field }}">
        <label class="{{ theme.form.label }}">{{ fields.website.label }}</label>
        <input 
            class="{{ theme.form.input.class }} {{ theme.form.input.hover }} {{ theme.form.input.focus }}"
            rule="url" 
            optional="true" 
            name="website" 
            id="website" 
            {{ fields.website.placeholder|attr('placeholder') }} 
            value="{{ address.website }}">
    </div>
{% endif %}