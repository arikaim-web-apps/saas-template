{% set user_id = service('access').getId() %}
{% set user_details = createModel('UserDetails','users').findByColumn(user_id,'user_id') %}   
<div class="dropdown dropdown-end px-2">
    <label tabindex="0" class="px-2 flex flex-row items-center cursor-pointer">     
        <div class="avatar">
            <div class="{{ styles.avatar.ring-3 }}">   
                {% if user_details.avatar is not empty %}                            
                    <img alt="Avatar" src="{{ url(service('users').getViewAvatarUrl(),true) }}" />            
                {% else %}  
                    {{ component('icons~user',styles.avatar.icon,'svg') }}  
                {% endif %}
            </div>
        </div>
        <div class="px-2 text-sm font-semibold xs:hidden md:block">
            {{ user_details.name }}
        </div>      
    </label>
    <div tabindex="0" class="mt-3 dropdown-content shadow-sm bg-base-100 p-2 rounded-b-lg w-52">
        <ul tabindex="0" class="menu rounded-lg">           
            <li>
                <a 
                    mountTo="user_area_content"
                    component="current>user-area.account"
                    class="navbar-menu-item {{ styles.avatar.menu }}">
                    {{ component('icons~cog',styles.icon,'svg') }}
                    {{ links.account }}
                </a>
            </li>
        </ul>
    </div>  
</div>